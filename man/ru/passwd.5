.\" Copyright (c) 1993 Michael Haardt (u31b3hs@pool.informatik.rwth\-aachen.de), Fri Apr  2 11:32:09 MET DST 1993
.\"
.\" This is free documentation; you can redistribute it and/or
.\" modify it under the terms of the GNU General Public License as
.\" published by the Free Software Foundation; either version 2 of
.\" the License, or (at your option) any later version.
.\"
.\" The GNU General Public License's references to "object code"
.\" and "executables" are to be interpreted as the output of any
.\" document formatting or typesetting system, including
.\" intermediate and printed output.
.\"
.\" This manual is distributed in the hope that it will be useful,
.\" but WITHOUT ANY WARRANTY; without even the implied warranty of
.\" MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
.\" GNU General Public License for more details.
.\"
.\" You should have received a copy of the GNU General Public
.\" License along with this manual; if not, write to the Free
.\" Software Foundation, Inc., 675 Mass Ave, Cambridge, MA 02139,
.\" USA.
.\"
.\" Modified Sun Jul 25 10:46:28 1993 by Rik Faith (faith@cs.unc.edu)
.\" Modified Sun Aug 21 18:12:27 1994 by Rik Faith (faith@cs.unc.edu)
.\" Modified Sun Jun 18 01:53:57 1995 by Andries Brouwer (aeb@cwi.nl)
.\" Modified Mon Jan  5 20:24:40 MET 1998 by Michael Haardt
.\"  (michael@cantor.informatik.rwth-aachen.de)
.TH PASSWD 5 "$Date: 2005/04/05 19:08:57 $" "" "Форматы файлов"
.SH НАЗВАНИЕ
passwd \- файл паролей
.SH ОПИСАНИЕ
.B Passwd
\-\- это текстовый файл, содержащий список учетных записей пользователей
системы, каждая из которых содержит такую информацию, как
идентификатор пользователя, идентификатор группы, домашний каталог,
командную оболочку и т. д.  Часто в этом файле также содержатся
зашифрованные пароли каждого пользователя.  Этот файл должен быть
доступен всем для чтения (многие утилиты, например,
.BR ls (1)
используют этот файл для сопоставления идентификаторов и имен
пользователей), но запись в него разрешена только суперпользователю. 
.PP
В старые добрые времена не было никаких проблем с доступностью этого
файла для чтения всему миру.  Каждый мог прочитать зашифрованный
пароль, но электроника была слишком медленной, чтобы взломать
правильно выбранный пароль и, более того, основным принципом было
дружелюбие среди пользователей.  Сейчас многие используют ту или иную
версию комплекта теневых паролей, где
.I /etc/passwd
содержит звездочки вместо зашифрованного пароля, а сами эти пароли
хранятся в
.I /etc/shadow\fR,
который доступен для чтения только суперпользователю.
.PP
Независимо от того, используются ли теневые пароли, многие системные
администраторы используют звездочку в качестве зашифрованного пароля,
чтобы убедиться, что этот пользователь не сможет войти в систему под
своим паролем.  (Однако, смотрите ниже ЗАМЕЧАНИЯ).
.PP
Если вы создаете новую учетную запись, сначала поместите в поле пароля 
звездочку, затем используйте
.BR passwd (1),
чтобы задать настоящий пароль.
.PP
Каждая учетная запись находится в одной строке, а каждая строка имеет
формат
.sp
.RS
account:password:UID:GID:GECOS:directory:shell
.RE
.sp
Вот описание полей:
.sp
.RS
.TP 1.0in
.I account
имя пользователя в системе.  Оно не должно содержать заглавных букв.
.TP
.I password
зашифрованный пароль пользователя или звездочка.
.TP
.I UID
цифровой идентификатор пользователя.
.TP
.I GID
цифровой идентификатор основной группы этого пользователя.
.TP
.I GECOS
Это поле необязательно и используется только для информационных целей.
Обычно здесь содержится полное имя пользователя.  GECOS означает
General Electric Comprehensive Operating System, которая была
переименована в GCOS, когда подразделение больших систем компании
General Electric было продано компании Honeywell.  Денис Ричи говорил: 
"Иногда мы посылали файл для распечатки или набор задач для пакетной
обработки на машину с GCOS.  В поле GCOS в файле паролей пряталась
информация для $IDENTcard.  Не элегантно."
.TP
.I directory
домашний каталог пользователя ($HOME).
.TP
.I shell
программа, которая выполняется при входе в систему (если здесь ничего
не указано, используется
.BR /bin/sh ).
Если здесь указан несуществующий исполняемый файл, пользователь не
сможет войти в систему с помощью
.BR login (1).
.RE
.SH ЗАМЕЧАНИЕ
Если вы хотите создавать группы пользователей, то их GID должны быть
одинаковы, а в файле \fI/etc/group\fP, должна быть запись об этой
группе, или же эта группа не будет существовать.
.PP
Если в поле с зашифрованным паролем находится звездочка, пользователь
не сможет войти в систему с помощью
.BR login (1),
но сможет сделать это с помощью
.BR rlogin (1),
выполнять существующие процессы и создавать новые с помощью
.BR rsh (1),
.BR cron (1),
.BR at (1)
или почтовых фильтров, и т. п.  Попытка заблокировать учетную запись,
изменяя поле shell, приведет к тем же результатам, и дополнительно
позволит использовать
.BR su (1).
.SH ФАЙЛЫ
.I /etc/passwd
.SH "СМОТРИ ТАКЖЕ"
.BR passwd (1),
.BR login (1),
.BR su (1),
.BR group (5),
.BR shadow (5)
.SH ПЕРЕВОД
Перевод Copyright (C) Alexey Mahotkin <alexm@hsys.msk.ru> 1999
